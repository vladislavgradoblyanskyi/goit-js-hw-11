{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst api = 'https://pixabay.com/api/';\nconst api_key = '54662429-d0583973866d02e67b13f9c1b';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: api_key,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios.get(api, { params })\n    .then((res) =>{\n      return res.data;\n    })\n    .catch(() => {\n      throw new Error();\n    });\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const list = images.map( (img) => {\n    \n    return `<li class=\"gallery-item\">\n              <a href=\"${img.largeImageURL}\">\n                <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n              </a>\n              <div class=\"info\">\n                <p><b>Likes</b> ${img.likes}</p>\n                <p><b>Views</b> ${img.views}</p>\n                <p><b>Comments</b> ${img.comments}</p>\n                <p><b>Downloads</b> ${img.downloads}</p>\n              </div>\n            </li>`;\n  }).join(\"\");\n\n  gallery.insertAdjacentHTML(\"beforeend\", list);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.add(\"is-visible\");\n}\n\nexport function hideLoader() {\n  loader.classList.remove(\"is-visible\");\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport  {getImagesByQuery}  from \"./js/pixabay-api.js\";\nimport {createGallery,clearGallery,showLoader,hideLoader,} from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", function (event) {\n  event.preventDefault();\n\n  const query = event.target.elements[\"search-text\"].value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      message: \"Поле пошуку порожнє!\",\n      position: \"topRight\",\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then( (data) => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n        });\n        return;\n      }\n\n      createGallery(data.hits);\n    })\n    .catch( () =>{\n      iziToast.error({\n        message: \"Помилка запиту на сервер\",\n        position: \"topRight\",\n      });\n    })\n    .finally( () => {\n      hideLoader();\n      form.reset();\n    });\n});\n"],"names":["api","api_key","getImagesByQuery","query","params","axios","res","gallery","loader","lightbox","SimpleLightbox","createGallery","images","list","img","clearGallery","showLoader","hideLoader","form","event","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAM,2BACNC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EAAM,IAAIL,EAAK,CAAE,OAAAI,CAAM,CAAE,EAC7B,KAAME,GACEA,EAAI,IACZ,EACA,MAAM,IAAM,CACX,MAAM,IAAI,KAChB,CAAK,CACL,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAOD,EAAO,IAAME,GAEjB;AAAA,yBACcA,EAAI,aAAa;AAAA,4BACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,kCAG5BA,EAAI,KAAK;AAAA,kCACTA,EAAI,KAAK;AAAA,qCACNA,EAAI,QAAQ;AAAA,sCACXA,EAAI,SAAS;AAAA;AAAA,kBAGhD,EAAE,KAAK,EAAE,EAEVP,EAAQ,mBAAmB,YAAaM,CAAI,EAC5CJ,EAAS,QAAO,CAClB,CAEO,SAASM,GAAe,CAC7BR,EAAQ,UAAY,EACtB,CAEO,SAASS,GAAa,CAC3BR,EAAO,UAAU,IAAI,YAAY,CACnC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,OAAO,YAAY,CACtC,CCnCA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,SAAUC,EAAO,CAC/CA,EAAM,eAAc,EAEpB,MAAMhB,EAAQgB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GAAI,CAAChB,EAAO,CACViB,EAAS,QAAQ,CACf,QAAS,uBACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,IACAC,IAEAd,EAAiBC,CAAK,EACnB,KAAOkB,GAAS,CACf,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDT,EAAcU,EAAK,IAAI,CAC7B,CAAK,EACA,MAAO,IAAK,CACXD,EAAS,MAAM,CACb,QAAS,2BACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAS,IAAM,CACdH,IACAC,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}